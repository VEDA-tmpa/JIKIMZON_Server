# StorageManager 테스트 시나리오

이 문서는 `main.cpp`를 사용하여 `StorageManager` 클래스의 기능을 검증하기 위한 테스트 시나리오를 설명합니다. 각 시나리오는 파일 작업, 디스크 공간 관리, 에러 처리를 포함한 특정 기능을 테스트합니다.

---

## 1. 초기화 테스트
### **설명**:
`StorageManager`가 디렉토리와 파일을 정상적으로 생성하는지 확인합니다.

### **테스트 절차**:
1. 새로운 디렉토리 경로(예: `./storage`)를 설정한 상태로 프로그램 실행.
2. 실행 후 디렉토리와 파일(`video.bin`)이 생성되었는지 확인.

### **기대 결과**:
- `./storage` 디렉토리가 생성됩니다.
- 디렉토리 내에 `video.bin` 파일이 생성되고, 예외가 발생하지 않습니다.

---

## 2. 프레임 저장 테스트
### **설명**:
여러 개의 `Frame` 객체를 순차적으로 파일에 저장할 수 있는지 테스트합니다.

### **테스트 절차**:
1. 프로그램을 실행하여 크기가 점점 커지는 10개의 프레임을 저장.
2. 콘솔 출력과 파일(`video.bin`) 내용을 확인.

### **기대 결과**:
- 각 프레임이 성공적으로 저장되고, 저장 완료 메시지가 출력됩니다.
- 파일 크기가 프레임 저장에 따라 점진적으로 증가합니다.

---

## 3. 디스크 공간 초과 테스트
### **설명**:
디스크 크기 초과 시 시스템이 오래된 프레임을 삭제하고 새로운 프레임을 저장하는지 확인합니다.

### **테스트 절차**:
1. `StorageManager`를 디스크 크기 제한(예: `1000 bytes`)으로 설정.
2. 프레임을 저장하여 총 크기가 디스크 제한을 초과하도록 설정.
3. 오래된 프레임이 제거되고 새로운 프레임이 추가되는지 확인.

### **기대 결과**:
- 파일 크기가 설정한 디스크 크기(`1000 bytes`)를 초과하지 않습니다.
- 오래된 프레임이 제거되고, 새로운 프레임이 정상적으로 저장됩니다.

---

## 4. 프레임 크기 초과 예외 테스트
### **설명**:
디스크 크기를 초과하는 크기의 프레임을 저장하려 할 때 예외가 발생하는지 확인합니다.

### **테스트 절차**:
1. 디스크 크기 제한(예: `1000 bytes`)을 설정.
2. 디스크 크기(`1000 bytes`)보다 큰 프레임을 생성 및 저장 시도.

### **기대 결과**:
- `"Frame size exceeds total disk size!"`라는 예외가 발생합니다.
- 에러 메시지가 로그에 기록됩니다.

---

## 5. 파일 생성 실패 테스트
### **설명**:
파일을 생성할 수 없는 경우 시스템이 올바르게 에러를 처리하는지 확인합니다.

### **테스트 절차**:
1. 잘못된 디렉토리 경로(예: 읽기 전용 디렉토리)로 프로그램 실행.
2. 결과를 확인.

### **기대 결과**:
- `"Failed to create file"` 예외가 발생합니다.
- 에러 메시지가 로그에 기록됩니다.

---

## 6. 디스크 공간 유지 테스트
### **설명**:
여러 프레임을 저장한 후 디스크 크기가 설정된 제한을 초과하지 않는지 확인합니다.

### **테스트 절차**:
1. 프레임을 연속으로 저장하여 디스크 크기 제한을 초과하도록 설정.
2. 파일(`video.bin`)의 최종 크기를 확인.

### **기대 결과**:
- 파일 크기가 설정된 디스크 크기 제한을 초과하지 않습니다.
- 파일에는 디스크 크기에 맞게 최신 프레임 데이터만 유지됩니다.

---

## 콘솔 출력 예시
- **프레임 저장 성공**:
